{{define "title"}}Profile{{end}}
{{define "page"}}profile{{end}}

{{define "profile.html"}}
<div class="card" data-page-title="Profile">
    <div class="card-header">
        <h2>Change Password</h2>
    </div>
    <div class="card-content">
        <form 
            id="profile-form" 
            class="form-grid"
        >
            <div class="form-group">
                <label>Username</label>
                <input type="text" value="{{ .username }}" class="form-control" disabled>
            </div>
            <div class="form-group">
                <label>Role</label>
                <input type="text" value="{{ if .role }}{{ .role }}{{ else }}user{{ end }}" class="form-control" disabled>
            </div>
            <div class="form-group">
                <label for="current_password">Current Password</label>
                <input id="current_password" name="current_password" type="password" class="form-control" required autocomplete="current-password">
            </div>
            <div class="form-group">
                <label for="new_password">New Password</label>
                <input id="new_password" name="new_password" type="password" class="form-control" minlength="8" required autocomplete="new-password">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm Password</label>
                <input id="confirm_password" name="confirm_password" type="password" class="form-control" minlength="8" required autocomplete="new-password">
            </div>
            <div id="password-hint" class="form-hint" aria-live="polite"></div>
            
            {{ if .error }}
            <div class="form-group form-span-all">
                <div class="alert alert-danger" role="alert">
                    {{ .error }}
                </div>
            </div>
            {{ end }}
            {{ if .success }}
            <div class="form-group form-span-all">
                <div class="alert alert-success" role="status">
                    {{ .success }}
                </div>
            </div>
            {{ end }}

            <div class="form-actions form-span-all">
                <button id="btn-update-password" type="submit" class="btn btn-primary">Update Password</button>
            </div>
        </form>
    </div>
</div>
{{end}}

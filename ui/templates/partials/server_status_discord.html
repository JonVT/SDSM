{{define "server_status_discord.html"}}
<div class="card" id="server-discord-card">
    <div class="card-header items-center justify-between gap-2 flex flex-wrap">
        <div>
            <h2 class="card-title">Discord Overrides</h2>
            <p class="card-subtitle text-sm text-muted">Server-specific notification settings.</p>
        </div>
        <a href="#server-config-card" class="btn btn-ghost btn-sm">Edit in Configuration</a>
    </div>
    <div class="card-body space-y-4">
        <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
                <p class="text-xs uppercase tracking-wide text-muted">Mode</p>
                <p class="text-lg font-semibold">{{if .server.NotifyUseManagerDefaults}}Inherit Manager Defaults{{else}}Custom Overrides{{end}}</p>
            </div>
            <div>
                <p class="text-xs uppercase tracking-wide text-muted">Webhook</p>
                <p class="text-lg font-semibold">
                    {{if .server.DiscordWebhook}}
                        Custom URL
                    {{else}}
                        Not Set
                    {{end}}
                </p>
            </div>
            <div>
                <p class="text-xs uppercase tracking-wide text-muted">Notifications Enabled</p>
                <p class="text-lg font-semibold">{{if .server.NotifyEnable}}Enabled{{else}}Disabled{{end}}</p>
            </div>
            <div>
                <p class="text-xs uppercase tracking-wide text-muted">Manager Defaults</p>
                <p class="text-lg font-semibold">{{if .server.NotifyUseManagerDefaults}}Yes{{else}}No{{end}}</p>
            </div>
        </div>

        {{if not .server.NotifyUseManagerDefaults}}
        <div class="discord-events space-y-2">
            <p class="text-xs uppercase tracking-wide text-muted">Event Overrides</p>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Server Start</span>
                    <span class="font-semibold {{if .server.NotifyOnStart}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnStart}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Stopping</span>
                    <span class="font-semibold {{if .server.NotifyOnStopping}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnStopping}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Stopped</span>
                    <span class="font-semibold {{if .server.NotifyOnStopped}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnStopped}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Restart</span>
                    <span class="font-semibold {{if .server.NotifyOnRestart}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnRestart}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Update Started</span>
                    <span class="font-semibold {{if .server.NotifyOnUpdateStarted}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnUpdateStarted}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Update Completed</span>
                    <span class="font-semibold {{if .server.NotifyOnUpdateCompleted}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnUpdateCompleted}}On{{else}}Off{{end}}</span>
                </div>
                <div class="flex items-center justify-between rounded border px-3 py-2 text-sm">
                    <span>Update Failed</span>
                    <span class="font-semibold {{if .server.NotifyOnUpdateFailed}}text-primary{{else}}text-muted{{end}}">{{if .server.NotifyOnUpdateFailed}}On{{else}}Off{{end}}</span>
                </div>
            </div>
        </div>
        {{else}}
        <p class="text-sm text-muted">This server inherits all Discord notification preferences from the manager defaults.</p>
        {{end}}
    </div>
</div>
{{end}}

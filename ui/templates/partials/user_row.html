{{define "user_row"}}
<tr id="user-row-{{.Username}}">
    <td>{{.Username}}</td>
    <td>{{.Role}}</td>
    <td>{{if .LastLogin.IsZero}}-{{else}}{{.LastLogin.Format "2006-01-02 15:04"}}{{end}}</td>
    <td>
        <button class="btn btn-sm btn-secondary" data-bs-toggle="modal" data-bs-target="#resetPasswordModal" data-username="{{.Username}}">
            <i class="bi bi-key"></i> Reset Password
        </button>
        <button class="btn btn-sm btn-info" data-bs-toggle="modal" data-bs-target="#editUserModal" data-username="{{.Username}}" data-role="{{.Role}}">
            <i class="bi bi-pencil"></i> Edit
        </button>
        <button class="btn btn-sm btn-danger" hx-post="/api/users/{{.Username}}/delete" hx-target="#user-row-{{.Username}}" hx-swap="outerHTML" hx-confirm="Are you sure you want to delete user {{.Username}}?">
            <i class="bi bi-trash"></i> Delete
        </button>
    </td>
</tr>
{{end}}

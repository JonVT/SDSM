<div class="card card-config">
    <div class="card-header">
        <h2 class="card-title">Startup Parameters</h2>
    </div>
    <form method="POST" id="startup-params-form">
        <input type="hidden" name="confirm_reset_saves" id="confirm-reset-saves-flag" value="0" />
        <div class="form-grid-compact">
            <div class="form-row form-row-full">
                <label>Server Path:</label>
                <span class="readonly-field">{{.serverPath}}</span>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:end;">
                <div>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" value="{{.server.Name}}" class="form-input-inline" placeholder="Server Name" autocomplete="off">
                </div>
                <div>
                    <label for="port">Port:</label>
                    <input type="number" id="port" name="port" value="{{.server.Port}}" class="form-input-inline" placeholder="7777" autocomplete="off">
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2);">
                <div>
                    <label for="world">World:</label>
                    <select name="world" id="world" class="form-select-inline" aria-label="World">
                        <option value="">Loading...</option>
                    </select>
                </div>
                <div>
                    <label for="start_location">Start Location:</label>
                    <select name="start_location" id="start_location" class="form-select-inline" aria-label="Start Location">
                        <option value="">Loading...</option>
                    </select>
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2);">
                <div>
                    <label for="start_condition">Start Condition:</label>
                    <select name="start_condition" id="start_condition" class="form-select-inline" aria-label="Start Condition">
                        <option value="">Loading...</option>
                    </select>
                </div>
                <div>
                    <label for="difficulty">Difficulty:</label>
                    <select name="difficulty" id="difficulty" class="form-select-inline" aria-label="Difficulty">
                        <option value="">Loading...</option>
                    </select>
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:end;">
                <div>
                    <label for="max_clients">Max Players:</label>
                    <input type="number" id="max_clients" name="max_clients" value="{{.server.MaxClients}}" class="form-input-inline" placeholder="8" autocomplete="off">
                </div>
                <div>
                    <label for="server_visible">Server Visible:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="server_visible" name="server_visible" {{if .server.Visible}}checked{{end}}>
                        <span>Public</span>
                    </div>
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:end;">
                <div>
                    <label for="save_interval">Save Interval (sec):</label>
                    <input type="number" id="save_interval" name="save_interval" value="{{.server.SaveInterval}}" class="form-input-inline" placeholder="300" autocomplete="off">
                </div>
                <div>
                    <label for="restart_delay_seconds">Restart Delay (sec):</label>
                    <input type="number" id="restart_delay_seconds" name="restart_delay_seconds" value="{{.server.RestartDelaySeconds}}" class="form-input-inline" min="0" max="3600" placeholder="0" autocomplete="off">
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:end;">
                <div>
                    <label for="auth_secret">Auth Secret:</label>
                    <input type="text" id="auth_secret" name="auth_secret" value="{{.server.AuthSecret}}" class="form-input-inline" placeholder="Auth Secret" autocomplete="off">
                </div>
                <div>
                    <label for="password">Server Password:</label>
                    <input type="password" id="password" name="password" value="{{.server.Password}}" class="form-input-inline" placeholder="Password" autocomplete="current-password">
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:center;">
                <div>
                    <label>Game Version:</label>
                    <div class="radio-group">
                        <label class="radio-label">
                            <input type="radio" name="beta" value="false" {{if not .server.Beta}}checked{{end}}> Release
                        </label>
                        <label class="radio-label">
                            <input type="radio" name="beta" value="true" {{if .server.Beta}}checked{{end}}> Beta
                        </label>
                    </div>
                </div>
                <div>
                    <label for="auto_start">Auto Start:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="auto_start" name="auto_start" {{if .server.AutoStart}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:center;">
                <div>
                    <label for="auto_save">Auto Save:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="auto_save" name="auto_save" {{if .server.AutoSave}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
                <div>
                    <label for="auto_pause">Auto Pause:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="auto_pause" name="auto_pause" {{if .server.AutoPause}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:center;">
                <div>
                    <label for="auto_update">Auto Update:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="auto_update" name="auto_update" {{if .server.AutoUpdate}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
                <div>
                    <label for="disconnect_timeout">Disconnect Timeout (ms):</label>
                    <input type="number" id="disconnect_timeout" name="disconnect_timeout" value="{{.server.DisconnectTimeout}}" class="form-input-inline" min="1000" max="600000" step="1000" placeholder="10000" autocomplete="off">
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:end;">
                <div>
                    <label for="max_auto_saves">Max Auto Saves:</label>
                    <input type="number" id="max_auto_saves" name="max_auto_saves" value="{{.server.MaxAutoSaves}}" class="form-input-inline" min="1" max="1000" placeholder="5" autocomplete="off">
                </div>
                <div>
                    <label for="max_quick_saves">Max Quick Saves:</label>
                    <input type="number" id="max_quick_saves" name="max_quick_saves" value="{{.server.MaxQuickSaves}}" class="form-input-inline" min="1" max="1000" placeholder="5" autocomplete="off">
                </div>
            </div>

            <div class="form-row" style="display:grid; grid-template-columns: 1fr 1fr; gap: var(--space-2); align-items:center;">
                <div>
                    <label for="delete_skeleton_on_decay">Delete Skeleton On Decay:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="delete_skeleton_on_decay" name="delete_skeleton_on_decay" {{if .server.DeleteSkeletonOnDecay}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
                <div>
                    <label for="use_steam_p2p">Use Steam P2P:</label>
                    <div class="checkbox-inline">
                        <input type="checkbox" id="use_steam_p2p" name="use_steam_p2p" {{if .server.UseSteamP2P}}checked{{end}}>
                        <span>Enable</span>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>

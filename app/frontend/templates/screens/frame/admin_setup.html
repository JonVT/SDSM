<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Setup - SDSM</title>
    <link rel="stylesheet" href="/static/css/modern.css?v={{buildTime}}" />
    <link rel="icon" href="/static/sdsm.png" type="image/png" />
    <meta name="robots" content="noindex" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' data:; style-src 'self'; script-src 'self'">
</head>
<body>
    <div class="container-slim">
        <div class="card">
            <div class="card-header text-center">
                <img src="/static/sdsm.png" alt="SDSM Logo" class="logo-lg">
                <h2>Admin Setup</h2>
                <p class="text-muted">Create the initial administrator account to secure your SDSM instance.</p>
            </div>
            <div class="card-content">
                {{if .error}}
                <div id="error-box" class="alert alert-danger" role="alert">{{.error}}</div>
                {{end}}
                <form id="setup-form" method="POST" action="/admin/setup">
                    <div class="form-group">
                        <label for="username" class="form-label">Username</label>
                        <input id="username" class="form-control" value="admin" disabled />
                        <div class="form-text">The admin username is fixed and cannot be changed.</div>
                    </div>
                    <div class="form-group">
                        <label for="password" class="form-label">Password</label>
                        <input id="password" name="password" type="password" class="form-control" placeholder="Enter a strong password (min. 8 characters)" required autocomplete="new-password" />
                    </div>
                    <div class="form-group">
                        <label for="confirm" class="form-label">Confirm Password</label>
                        <input id="confirm" name="confirm" type="password" class="form-control" placeholder="Re-enter your password" required autocomplete="new-password" />
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary w-full">Set Admin Password & Finish Setup</button>
                    </div>
                </form>
            </div>
            <div class="card-footer text-center">
                <p class="text-muted text-sm">For headless setups, you can pre-configure a read-only user via the <code>SDSM_VIEWER_USERNAME</code> and <code>SDSM_VIEWER_PASSWORD</code> environment variables.</p>
            </div>
        </div>
    </div>
    {{template "footer" .}}
    <script src="/static/js/screens/admin_setup.js?v={{buildTime}}"></script>
</body>
</html>
